<!DOCTYPE html> <html lang="en"> <head> <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"> <meta charset="utf-8"> <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"> <meta http-equiv="X-UA-Compatible" content="IE=edge"> <title> numato의 Serial와 GPIO 통신 모듈 사용기 | JooHyoung Cha </title> <meta name="author" content="JooHyoung Cha"> <meta name="description" content="A simple, whitespace theme for academics. Based on [*folio](https://github.com/bogoli/-folio) design. "> <meta name="keywords" content="jekyll, jekyll-theme, academic-website, portfolio-website"> <link rel="stylesheet" href="/assets/css/bootstrap.min.css?a4b3f509e79c54a512b890d73235ef04"> <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/css/mdb.min.css" integrity="sha256-jpjYvU3G3N6nrrBwXJoVEYI/0zw8htfFnhT9ljN3JJw=" crossorigin="anonymous"> <link defer rel="stylesheet" href="/assets/css/academicons.min.css?f0b7046b84e425c55f3463ac249818f5"> <link defer rel="stylesheet" href="/assets/css/scholar-icons.css?62b2ac103a88034e6882a5be5f3e2772"> <link defer rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Roboto+Slab:100,300,400,500,700|Material+Icons&amp;display=swap"> <link defer rel="stylesheet" href="/assets/css/jekyll-pygments-themes-github.css?591dab5a4e56573bf4ef7fd332894c99" media="" id="highlight_theme_light"> <link rel="shortcut icon" href="data:image/svg+xml,&lt;svg%20xmlns=%22http://www.w3.org/2000/svg%22%20viewBox=%220%200%20100%20100%22&gt;&lt;text%20y=%22.9em%22%20font-size=%2290%22&gt;%E2%9A%9B%EF%B8%8F&lt;/text&gt;&lt;/svg&gt;"> <link rel="stylesheet" href="/assets/css/main.css?d41d8cd98f00b204e9800998ecf8427e"> <link rel="canonical" href="https://blog.udon.party/blog/2022/concurrency-gpio-for-numato/"> <script src="/assets/js/theme.js?9a0c749ec5240d9cda97bc72359a72c0"></script> <link defer rel="stylesheet" href="/assets/css/jekyll-pygments-themes-native.css?5847e5ed4a4568527aa6cfab446049ca" media="none" id="highlight_theme_dark"> <script>
    initTheme();
  </script> </head> <body class="fixed-top-nav "> <header> <nav id="navbar" class="navbar navbar-light navbar-expand-sm fixed-top" role="navigation"> <div class="container"> <a class="navbar-brand title font-weight-lighter" href="/"> <span class="font-weight-bold">JooHyoung</span> Cha </a> <button class="navbar-toggler collapsed ml-auto" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation"> <span class="sr-only">Toggle navigation</span> <span class="icon-bar top-bar"></span> <span class="icon-bar middle-bar"></span> <span class="icon-bar bottom-bar"></span> </button> <div class="collapse navbar-collapse text-right" id="navbarNav"> <ul class="navbar-nav ml-auto flex-nowrap"> <li class="nav-item "> <a class="nav-link" href="/">about </a> </li> <li class="nav-item active"> <a class="nav-link" href="/blog/">blog </a> </li> <li class="nav-item "> <a class="nav-link" href="/publications/">publications </a> </li> <li class="nav-item "> <a class="nav-link" href="/projects/">projects </a> </li> <li class="nav-item "> <a class="nav-link" href="/repositories/">repositories </a> </li> <li class="nav-item "> <a class="nav-link" href="/cv/">cv </a> </li> <li class="nav-item "> <a class="nav-link" href="/teaching/">teaching </a> </li> <li class="nav-item "> <a class="nav-link" href="/people/">people </a> </li> <li class="nav-item dropdown "> <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">submenus </a> <div class="dropdown-menu dropdown-menu-right" aria-labelledby="navbarDropdown"> <a class="dropdown-item " href="/publications/">publications</a> <div class="dropdown-divider"></div> <a class="dropdown-item " href="/projects/">projects</a> <div class="dropdown-divider"></div> <a class="dropdown-item " href="/blog/">blog</a> </div> </li> <li class="nav-item"> <button id="search-toggle" title="Search" onclick="openSearchModal()"> <span class="nav-link">ctrl k <i class="ti ti-search"></i></span> </button> </li> <li class="toggle-container"> <button id="light-toggle" title="Change theme"> <i class="ti ti-sun-moon" id="light-toggle-system"></i> <i class="ti ti-moon-filled" id="light-toggle-dark"></i> <i class="ti ti-sun-filled" id="light-toggle-light"></i> </button> </li> </ul> </div> </div> </nav> <progress id="progress" value="0"> <div class="progress-container"> <span class="progress-bar"></span> </div> </progress> </header> <div class="container mt-5" role="main"> <div class="post"> <header class="post-header"> <h1 class="post-title">numato의 Serial와 GPIO 통신 모듈 사용기</h1> <p class="post-meta"> Created in May 13, 2022 by piorosen </p> <p class="post-tags"> <a href="/blog/2022"> <i class="fa-solid fa-calendar fa-sm"></i> 2022 </a>   ·   <a href="/blog/tag/gpio"> <i class="fa-solid fa-hashtag fa-sm"></i> gpio</a>   <a href="/blog/tag/numato"> <i class="fa-solid fa-hashtag fa-sm"></i> numato</a>   <a href="/blog/tag/usb"> <i class="fa-solid fa-hashtag fa-sm"></i> usb</a>   <a href="/blog/tag/serial"> <i class="fa-solid fa-hashtag fa-sm"></i> serial</a>   ·   <a href="/blog/category/blogging"> <i class="fa-solid fa-tag fa-sm"></i> Blogging</a>   <a href="/blog/category/develop"> <i class="fa-solid fa-tag fa-sm"></i> Develop</a> </p> </header> <article class="post-content"> <div id="markdown-content"> <h1 id="개요">개요</h1> <p>연구과제를 진행 하던 중 특정 장비를 컨트롤 및 관리를 해야 했다. 하지만 특정 장비와 통신을 하기 위해서는 GPIO 통신만 가능했기 때문에 일반 윈도우 PC에서 GPIO를 주고 받는 모듈을 이용해야 했다. 그래서 기업에서 주로 사용하고 있는 numato사의 32USBGPIOModule를 활용하여 윈도우 PC에 연결하여 사용했다. numato사의 USBGPIO 모듈을 사용하면서 발생 했던 문제, 내용을 기록하였다.</p> <table> <thead> <tr> <th style="text-align: center">GPIO Module Demo 프로그램</th> </tr> </thead> <tbody> <tr> <td style="text-align: center"><img src="/assets/img/post/2022-05-13-gpio-demo.png" alt="GPIO 이미지"></td> </tr> </tbody> </table> <h1 id="신기한-구조">신기한 구조</h1> <p>정말 신기한 구조 였다. GPIO는 특정 핀을 HIGH, LOW로 하면서 다른 장비와 0과 1이란 시호를 주고 받는다. 특히 GPIO 핀은 신호를 주고 받는 방식에 따라 다르지만, 전압에 따른 통신이다. 하지만 시리얼 통신은 GPIO와 비슷하지만, 특정 핀을 Baudrate 만큼 HIGH, LOW로 하면서 오류 정정 제어가 가능한 프로토콜 및 통신 이다. 그렇기 때문에 시리얼 신호를 GPIO 신호로 완전히 바꾸는것은 어렵다. 그래서 numato사에서 만든 32USBGPIOModule은 매우 신기한 구조로 동작하고 있었다. 위의 numato사에서 만든 데모 프로그램을 보게 된다면 느낌적인 느낌적으로 아! 나는 중간 매개체와 통신을 통해 GPIO를 컨트롤 할 수 있겠구나! 라는 생각이 들었다. 그 생각은 들어 맞았으며 코드를 보면서 해독했다.</p> <p>일반 PC에서는 32USBGPIOModule 기기와 Serial 통신을 하고, 32USBGPIOModule가 다시 한번 GPIO 핀을 컨트롤 하는 장비, 또는 스스로 명령어를 분석하여 수행 한다. 조금 단순하게 이야기를 하자면 항상 PC와 연결이 되는 아두이노 보드가 있고, 아두이노 보드에서 시리얼 통신으로 PC로 부터 데이터를 받게 되면 GPIO 핀을 HIGH나 LOW로 바꾸고, 펌웨어 버전이나 IOMASK등 다양한 명령어를 실행하는 보드가 있는것이다.</p> <p>이러한 구조 때문에 Serial 통신으로 명령어를 날리면 GPIO 핀이 응답하는 구조이다.</p> <h1 id="사용한-명령어-또는-사용법">사용한 명령어 또는 사용법</h1> <p>자세한 도큐먼트는 <a href="https://numato.com/docs/32-channel-usb-gpio-module-with-analog-inputs/#the-commands-set-2" rel="external nofollow noopener" target="_blank">[numato사의 도큐먼트]</a>에서 명령어 세트를 확인 할 수 있다. 내부적으로 실질적인 통신은 시리얼 통신이기 때문에 시리얼, COM 포트를 개방 해야하고, 그 이후에 명령어는 “\n”이 아닌 “\r” 이다. 그리고 값을 지정하는 set, clear, 값을 읽어오는 read가 있다.</p> <div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">gpio</span> <span class="n">set</span> <span class="mi">1</span> <span class="c1">// 1번 GPIO 핀을 HIGH 로 설정함.</span>
<span class="n">gpio</span> <span class="n">clear</span> <span class="mi">2</span> <span class="c1">// 2번 GPIO 핀을 LOW로 설정함.</span>
<span class="n">gpio</span> <span class="n">read</span> <span class="mi">9</span> <span class="c1">// 9번 GPIo 핀의 값을 읽어옴.</span>

<span class="c1">// 32채널 이므로 10 이상의 핀의 경우에는 10 이 아닌 A, B로 나타냄.</span>
<span class="n">gpio</span> <span class="n">set</span> <span class="n">V</span> <span class="c1">// 32번 GPIO 핀을 HIGH로 설정함.</span>
</code></pre></div></div> <p>그 외의 데이터들은 모두 GPIO와 관련이 되어 있지만 일괄 변경, 일괄 변경 기능이다.</p> <h1 id="마지막">마지막</h1> <p>처음에 GPIO 핀 테스트를 8번핀까지 테스트를 진행을 했었었다. 그래서 처음에는 GPIO 핀이 숫자 0~9 까지의 범위 이므로 정상적으로 동작 했지만, 9 이후에는 당연히 10, 11 이라 넘어갈것이라 생각하고 코드를 작성 했던 것이 문제 사항이였다. 그래서 실제 미팅에서 16번핀, 18번핀을 사용하니 문제가 발생하고 말았다. 해당 문제를 찾기 위해서 기업체 연구실에서 1시간 정도 전압 측정기로 HIGH로 넘어오는지 LOW인지 값이 정상적으로 읽어지는지 확인하는 디버깅 작업이 진짜 사람 머리를 피를 말리는 상황이였다.</p> <p>다음주에 간 작업은… 교수님과 박사님과 총 4분이 2시간 정도 디버깅 하는걸 지켜본건 비밀이다…</p> </div> </article> <br> <hr> <br> <ul class="list-disc pl-8"></ul> <h2 class="text-3xl font-semibold mb-4 mt-12">Enjoy Reading This Article?</h2> <p class="mb-2">Here are some more articles you might like to read next:</p> <li class="my-2"> <a class="text-pink-700 underline font-semibold hover:text-pink-800" href="/blog/2025/Winograd-Algorithm/">위노그라드 알고리즘 정리</a> </li> <li class="my-2"> <a class="text-pink-700 underline font-semibold hover:text-pink-800" href="/blog/2024/ssh-vpn-forward/">외부에서 내부망으로 접근하기 위한 3가지의 방법론</a> </li> <li class="my-2"> <a class="text-pink-700 underline font-semibold hover:text-pink-800" href="/blog/2024/GIST-Developer/">GIST Developers' Night 2024에 연사로 참가하고 나서</a> </li> <li class="my-2"> <a class="text-pink-700 underline font-semibold hover:text-pink-800" href="/blog/2024/jvm-book-readed/">JVM 밑바닥까지 파헤치기 책을 읽고</a> </li> <li class="my-2"> <a class="text-pink-700 underline font-semibold hover:text-pink-800" href="/blog/2024/reading-High-Performance-Cpp/">고성능을 위한 언어 C++ 책을 읽고나서</a> </li> </div> </div> <footer class="fixed-bottom" role="contentinfo"> <div class="container mt-0"> © Copyright 2025 JooHyoung Cha. Powered by <a href="https://jekyllrb.com/" target="_blank" rel="external nofollow noopener">Jekyll</a> with <a href="https://github.com/alshedivat/al-folio" rel="external nofollow noopener" target="_blank">al-folio</a> theme. Hosted by <a href="https://pages.github.com/" target="_blank" rel="external nofollow noopener">GitHub Pages</a>. Photos from <a href="https://unsplash.com" target="_blank" rel="external nofollow noopener">Unsplash</a>. </div> </footer> <script src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script> <script src="/assets/js/bootstrap.bundle.min.js"></script> <script src="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/js/mdb.min.js" integrity="sha256-NdbiivsvWt7VYCt6hYNT3h/th9vSTL4EDWeGs5SN3DA=" crossorigin="anonymous"></script> <script defer src="https://cdn.jsdelivr.net/npm/masonry-layout@4.2.2/dist/masonry.pkgd.min.js" integrity="sha256-Nn1q/fx0H7SNLZMQ5Hw5JLaTRZp0yILA/FRexe19VdI=" crossorigin="anonymous"></script> <script defer src="https://cdn.jsdelivr.net/npm/imagesloaded@5.0.0/imagesloaded.pkgd.min.js" integrity="sha256-htrLFfZJ6v5udOG+3kNLINIKh2gvoKqwEhHYfTTMICc=" crossorigin="anonymous"></script> <script defer src="/assets/js/masonry.js?a0db7e5d5c70cc3252b3138b0c91dcaf" type="text/javascript"></script> <script defer src="https://cdn.jsdelivr.net/npm/medium-zoom@1.1.0/dist/medium-zoom.min.js" integrity="sha256-ZgMyDAIYDYGxbcpJcfUnYwNevG/xi9OHKaR/8GK+jWc=" crossorigin="anonymous"></script> <script defer src="/assets/js/zoom.js?85ddb88934d28b74e78031fd54cf8308"></script> <script src="/assets/js/no_defer.js?2781658a0a2b13ed609542042a859126"></script> <script defer src="/assets/js/common.js?e0514a05c5c95ac1a93a8dfd5249b92e"></script> <script defer src="/assets/js/copy_code.js?12775fdf7f95e901d7119054556e495f" type="text/javascript"></script> <script defer src="/assets/js/jupyter_new_tab.js?d9f17b6adc2311cbabd747f4538bb15f"></script> <script async src="https://d1bxh8uas1mnw7.cloudfront.net/assets/embed.js"></script> <script async src="https://badge.dimensions.ai/badge.js"></script> <script defer type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3.2.2/es5/tex-mml-chtml.js" integrity="sha256-MASABpB4tYktI2Oitl4t+78w/lyA+D7b/s9GEP0JOGI=" crossorigin="anonymous"></script> <script src="/assets/js/mathjax-setup.js?a5bb4e6a542c546dd929b24b8b236dfd"></script> <script defer src="https://cdnjs.cloudflare.com/polyfill/v3/polyfill.min.js?features=es6" crossorigin="anonymous"></script> <script defer src="/assets/js/progress-bar.js?2f30e0e6801ea8f5036fa66e1ab0a71a" type="text/javascript"></script> <script src="/assets/js/vanilla-back-to-top.min.js?f40d453793ff4f64e238e420181a1d17"></script> <script>
    addBackToTop();
  </script> <script type="module" src="/assets/js/search/ninja-keys.min.js?a3446f084dcaecc5f75aa1757d087dcf"></script> <ninja-keys hidebreadcrumbs noautoloadmdicons placeholder="Type to start searching"></ninja-keys> <script src="/assets/js/search-setup.js?6c304f7b1992d4b60f7a07956e52f04a"></script> <script src="/assets/js/search-data.js"></script> <script src="/assets/js/shortcut-key.js?6f508d74becd347268a7f822bca7309d"></script> </body> </html>