<!DOCTYPE html> <html lang="en"> <head> <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"> <meta charset="utf-8"> <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"> <meta http-equiv="X-UA-Compatible" content="IE=edge"> <title> 동적 메타 헤더를 위해 리액트 코드에서 PHP 코드로의 전환 | JooHyoung Cha </title> <meta name="author" content="JooHyoung Cha"> <meta name="description" content="A simple, whitespace theme for academics. Based on [*folio](https://github.com/bogoli/-folio) design. "> <meta name="keywords" content="jekyll, jekyll-theme, academic-website, portfolio-website"> <link rel="stylesheet" href="/assets/css/bootstrap.min.css?a4b3f509e79c54a512b890d73235ef04"> <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/css/mdb.min.css" integrity="sha256-jpjYvU3G3N6nrrBwXJoVEYI/0zw8htfFnhT9ljN3JJw=" crossorigin="anonymous"> <link defer rel="stylesheet" href="/assets/css/academicons.min.css?f0b7046b84e425c55f3463ac249818f5"> <link defer rel="stylesheet" href="/assets/css/scholar-icons.css?62b2ac103a88034e6882a5be5f3e2772"> <link defer rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Roboto+Slab:100,300,400,500,700|Material+Icons&amp;display=swap"> <link defer rel="stylesheet" href="/assets/css/jekyll-pygments-themes-github.css?591dab5a4e56573bf4ef7fd332894c99" media="" id="highlight_theme_light"> <link rel="shortcut icon" href="data:image/svg+xml,&lt;svg%20xmlns=%22http://www.w3.org/2000/svg%22%20viewBox=%220%200%20100%20100%22&gt;&lt;text%20y=%22.9em%22%20font-size=%2290%22&gt;%E2%9A%9B%EF%B8%8F&lt;/text&gt;&lt;/svg&gt;"> <link rel="stylesheet" href="/assets/css/main.css?d41d8cd98f00b204e9800998ecf8427e"> <link rel="canonical" href="https://blog.udon.party/blog/2023/builded-react-code-to-server-side-php-code/"> <script src="/assets/js/theme.js?9a0c749ec5240d9cda97bc72359a72c0"></script> <link defer rel="stylesheet" href="/assets/css/jekyll-pygments-themes-native.css?5847e5ed4a4568527aa6cfab446049ca" media="none" id="highlight_theme_dark"> <script>
    initTheme();
  </script> </head> <body class="fixed-top-nav "> <header> <nav id="navbar" class="navbar navbar-light navbar-expand-sm fixed-top" role="navigation"> <div class="container"> <a class="navbar-brand title font-weight-lighter" href="/"> <span class="font-weight-bold">JooHyoung</span> Cha </a> <button class="navbar-toggler collapsed ml-auto" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation"> <span class="sr-only">Toggle navigation</span> <span class="icon-bar top-bar"></span> <span class="icon-bar middle-bar"></span> <span class="icon-bar bottom-bar"></span> </button> <div class="collapse navbar-collapse text-right" id="navbarNav"> <ul class="navbar-nav ml-auto flex-nowrap"> <li class="nav-item "> <a class="nav-link" href="/">about </a> </li> <li class="nav-item active"> <a class="nav-link" href="/blog/">blog </a> </li> <li class="nav-item "> <a class="nav-link" href="/publications/">publications </a> </li> <li class="nav-item "> <a class="nav-link" href="/projects/">projects </a> </li> <li class="nav-item "> <a class="nav-link" href="/repositories/">repositories </a> </li> <li class="nav-item "> <a class="nav-link" href="/cv/">cv </a> </li> <li class="nav-item "> <a class="nav-link" href="/teaching/">teaching </a> </li> <li class="nav-item "> <a class="nav-link" href="/people/">people </a> </li> <li class="nav-item dropdown "> <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">submenus </a> <div class="dropdown-menu dropdown-menu-right" aria-labelledby="navbarDropdown"> <a class="dropdown-item " href="/publications/">publications</a> <div class="dropdown-divider"></div> <a class="dropdown-item " href="/projects/">projects</a> <div class="dropdown-divider"></div> <a class="dropdown-item " href="/blog/">blog</a> </div> </li> <li class="nav-item"> <button id="search-toggle" title="Search" onclick="openSearchModal()"> <span class="nav-link">ctrl k <i class="ti ti-search"></i></span> </button> </li> <li class="toggle-container"> <button id="light-toggle" title="Change theme"> <i class="ti ti-sun-moon" id="light-toggle-system"></i> <i class="ti ti-moon-filled" id="light-toggle-dark"></i> <i class="ti ti-sun-filled" id="light-toggle-light"></i> </button> </li> </ul> </div> </div> </nav> <progress id="progress" value="0"> <div class="progress-container"> <span class="progress-bar"></span> </div> </progress> </header> <div class="container mt-5" role="main"> <div class="post"> <header class="post-header"> <h1 class="post-title">동적 메타 헤더를 위해 리액트 코드에서 PHP 코드로의 전환</h1> <p class="post-meta"> Created in November 08, 2023 by piorosen </p> <p class="post-tags"> <a href="/blog/2023"> <i class="fa-solid fa-calendar fa-sm"></i> 2023 </a>   ·   <a href="/blog/tag/ssr"> <i class="fa-solid fa-hashtag fa-sm"></i> ssr</a>   <a href="/blog/tag/csr"> <i class="fa-solid fa-hashtag fa-sm"></i> csr</a>   <a href="/blog/tag/rendering"> <i class="fa-solid fa-hashtag fa-sm"></i> rendering</a>   <a href="/blog/tag/php"> <i class="fa-solid fa-hashtag fa-sm"></i> php</a>   <a href="/blog/tag/og"> <i class="fa-solid fa-hashtag fa-sm"></i> og</a>   <a href="/blog/tag/react"> <i class="fa-solid fa-hashtag fa-sm"></i> react</a>   <a href="/blog/tag/build"> <i class="fa-solid fa-hashtag fa-sm"></i> build</a>   <a href="/blog/tag/vanilla"> <i class="fa-solid fa-hashtag fa-sm"></i> vanilla</a>   <a href="/blog/tag/react-helmet"> <i class="fa-solid fa-hashtag fa-sm"></i> react-helmet</a>   ·   <a href="/blog/category/blogging"> <i class="fa-solid fa-tag fa-sm"></i> Blogging</a>   <a href="/blog/category/develop"> <i class="fa-solid fa-tag fa-sm"></i> Develop</a> </p> </header> <article class="post-content"> <div id="markdown-content"> <h1 id="사전지식">사전지식</h1> <p>우선, 상황에 대해 설명이 필요한데, 현재 개발을 진행하면서 기존에 구매 및 사용하던 서버가 PHP가 있었기에 다른 서버로 이전 및 전환이 불가능한 상황이였음을 이해가 필요하다. 따라서, 왜 Node.JS 서버가 아닌 PHP 서버를 쓰고 있는가에 대한 의문에 대한 대답은 서버를 추가적으로 구매할 수 없는 상황과 기존에 있는 PHP 서버를 활용해야했기 때문이다. 이러한 이해관계를 이해하고 있다면 React로 개발한 내용을 PHP 서버에 올렸는가에 대한 의문은 해결이 될 것이다.</p> <h1 id="개요">개요</h1> <p>본론으로 돌아와서 새로운 신규 개발자가 PHP로 작성된 프론트엔드 코드를 React로 이전 및 전환을 수행하였다. 하지만, 무엇이든지 무탈하게 지나가면 좋지만, 리액트는 Client Side Rendering(CSR) 방식이고, PHP는 Server Side Rendering(SSR)이면서 생긴 문제점이 발생하였다. 현재 동일한 코드에서 서브 도메인마다 내부적인 라우팅을 통해 페이지를 생성해내는 방식을 사용하고 있었다. 하지만 CSR 방식으로 전환하면서 OG 메타 헤더에 문제가 발생하게 되었다.</p> <p>OG 메타헤더는 사용자가 클릭하기 전에 크롤러가 데이터를 수집하여 미리 사용자에게 보여주는 것이다. 또한, 크롤러의 보안 정책상 Javascript는 실행하지 않고, 오직 단일 페이지 정보만 수집하여 데이터를 생성한다. 그렇기에, CSR에서 동적으로 메타 헤더를 변경하더라도, 웹 브라우저에서는 변경이 되지만 크롤러에서는 변경이 되지 않는것이다.</p> <h2 id="상황-정리">상황 정리</h2> <p>요약하자면 현재 상태에서는 서브 도메인 마다 OG 메타 헤더가 변경이 되어야 하는 상황에 CSR 방식인 리액트는 적합하지 않았다. 이유는 리액트는 “클라이언트” 중심의 렌더링 방식이기 때문이다. 물론, 리액트를 PHP 서버에 올리기 위해 리액트를 사전 빌드하여, <code class="language-plaintext highlighter-rouge">CSS</code>, <code class="language-plaintext highlighter-rouge">JS</code>, <code class="language-plaintext highlighter-rouge">HTML</code>로 변환하여 배포하였다.</p> <p><a href="https://stackoverflow.com/questions/77020735/how-do-i-generate-dynamic-meta-description-and-image-in-react-using-react-helmet" rel="external nofollow noopener" target="_blank">https://stackoverflow.com/questions/77020735/how-do-i-generate-dynamic-meta-description-and-image-in-react-using-react-helmet</a></p> <h1 id="아이디어">아이디어</h1> <p>어떻게 해결하면 좋을까란 회의를 진행하면서 기발한 아이디어가 나의 머릿속에 스쳐지나갔다. 해결 방법이 떠올랐지만 주변에 <code class="language-plaintext highlighter-rouge">혹시,, 아이디어 있어? 나 해결할 방법이 났지만 코드가 많이 이상해질거야 괜찮겠어?</code> 라고 질의를 한 결과 <code class="language-plaintext highlighter-rouge">좋아요!</code>란 답변을 받았다.</p> <p>먼저 이야기 하자면, <code class="language-plaintext highlighter-rouge">React.JS</code> -&gt; <code class="language-plaintext highlighter-rouge">Building HTML with JS code</code> -&gt; <code class="language-plaintext highlighter-rouge">Inject PHP code into React code builded</code> 과정을 거치면서 코드를 많이 더럽혔다.</p> <p>아래의 코드는 <code class="language-plaintext highlighter-rouge">React.JS</code>에 있는 <code class="language-plaintext highlighter-rouge">index.html</code> 코드의 일부를 발췌한 내용이다. <code class="language-plaintext highlighter-rouge">React</code> 를 빌드하면서 코드를 압축하므로, 해당 코드가 가능한 것이다.</p> <p><img src="/assets/img/post/2023-11-12-01.png" alt=""></p> <h1 id="마무리">마무리</h1> <p>신난다! 코드 가독성은 떨어지고, 리액트와 PHP 코드가 함께 존재하는 신기한 코드이지만, 일단 정상적으로 동작한다는 것을 알 수 있다.</p> <p>또한, 하나의 문제를 해결하기 위해서 불가능한 것을 가능케 하는 것이 아닌, 한발 뒤에서 지켜보면서 어떻게 해결할 것인지 큰 그림을 보는것이 중요하다.</p> <p>솔직하게, PHP 서버에서 <code class="language-plaintext highlighter-rouge">React.JS</code>를 사용하기 위해서 <code class="language-plaintext highlighter-rouge">React.PHP</code> <a href="https://reactphp.org/" rel="external nofollow noopener" target="_blank">[React.PHP]</a> 도 고민했을 정도였다.</p> <p>즉, <code class="language-plaintext highlighter-rouge">React.JS</code> 에서 동작 안하넹… 어떡하지란 고민에서 더 나은 차선책이 나오면서 <code class="language-plaintext highlighter-rouge">React.JS</code>를 빌드하고 나온 결과물을 PHP 코드로 한번 더 변경하여 문제를 해결하는… 신박한 구조로 구현하게 되었다.</p> </div> </article> <br> <hr> <br> <ul class="list-disc pl-8"></ul> <h2 class="text-3xl font-semibold mb-4 mt-12">Enjoy Reading This Article?</h2> <p class="mb-2">Here are some more articles you might like to read next:</p> <li class="my-2"> <a class="text-pink-700 underline font-semibold hover:text-pink-800" href="/blog/2025/Winograd-Algorithm/">위노그라드 알고리즘 정리</a> </li> <li class="my-2"> <a class="text-pink-700 underline font-semibold hover:text-pink-800" href="/blog/2024/ssh-vpn-forward/">외부에서 내부망으로 접근하기 위한 3가지의 방법론</a> </li> <li class="my-2"> <a class="text-pink-700 underline font-semibold hover:text-pink-800" href="/blog/2024/GIST-Developer/">GIST Developers' Night 2024에 연사로 참가하고 나서</a> </li> <li class="my-2"> <a class="text-pink-700 underline font-semibold hover:text-pink-800" href="/blog/2024/jvm-book-readed/">JVM 밑바닥까지 파헤치기 책을 읽고</a> </li> <li class="my-2"> <a class="text-pink-700 underline font-semibold hover:text-pink-800" href="/blog/2024/reading-High-Performance-Cpp/">고성능을 위한 언어 C++ 책을 읽고나서</a> </li> </div> </div> <footer class="fixed-bottom" role="contentinfo"> <div class="container mt-0"> © Copyright 2025 JooHyoung Cha. Powered by <a href="https://jekyllrb.com/" target="_blank" rel="external nofollow noopener">Jekyll</a> with <a href="https://github.com/alshedivat/al-folio" rel="external nofollow noopener" target="_blank">al-folio</a> theme. Hosted by <a href="https://pages.github.com/" target="_blank" rel="external nofollow noopener">GitHub Pages</a>. Photos from <a href="https://unsplash.com" target="_blank" rel="external nofollow noopener">Unsplash</a>. </div> </footer> <script src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script> <script src="/assets/js/bootstrap.bundle.min.js"></script> <script src="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/js/mdb.min.js" integrity="sha256-NdbiivsvWt7VYCt6hYNT3h/th9vSTL4EDWeGs5SN3DA=" crossorigin="anonymous"></script> <script defer src="https://cdn.jsdelivr.net/npm/masonry-layout@4.2.2/dist/masonry.pkgd.min.js" integrity="sha256-Nn1q/fx0H7SNLZMQ5Hw5JLaTRZp0yILA/FRexe19VdI=" crossorigin="anonymous"></script> <script defer src="https://cdn.jsdelivr.net/npm/imagesloaded@5.0.0/imagesloaded.pkgd.min.js" integrity="sha256-htrLFfZJ6v5udOG+3kNLINIKh2gvoKqwEhHYfTTMICc=" crossorigin="anonymous"></script> <script defer src="/assets/js/masonry.js?a0db7e5d5c70cc3252b3138b0c91dcaf" type="text/javascript"></script> <script defer src="https://cdn.jsdelivr.net/npm/medium-zoom@1.1.0/dist/medium-zoom.min.js" integrity="sha256-ZgMyDAIYDYGxbcpJcfUnYwNevG/xi9OHKaR/8GK+jWc=" crossorigin="anonymous"></script> <script defer src="/assets/js/zoom.js?85ddb88934d28b74e78031fd54cf8308"></script> <script src="/assets/js/no_defer.js?2781658a0a2b13ed609542042a859126"></script> <script defer src="/assets/js/common.js?e0514a05c5c95ac1a93a8dfd5249b92e"></script> <script defer src="/assets/js/copy_code.js?12775fdf7f95e901d7119054556e495f" type="text/javascript"></script> <script defer src="/assets/js/jupyter_new_tab.js?d9f17b6adc2311cbabd747f4538bb15f"></script> <script async src="https://d1bxh8uas1mnw7.cloudfront.net/assets/embed.js"></script> <script async src="https://badge.dimensions.ai/badge.js"></script> <script defer type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3.2.2/es5/tex-mml-chtml.js" integrity="sha256-MASABpB4tYktI2Oitl4t+78w/lyA+D7b/s9GEP0JOGI=" crossorigin="anonymous"></script> <script src="/assets/js/mathjax-setup.js?a5bb4e6a542c546dd929b24b8b236dfd"></script> <script defer src="https://cdnjs.cloudflare.com/polyfill/v3/polyfill.min.js?features=es6" crossorigin="anonymous"></script> <script defer src="/assets/js/progress-bar.js?2f30e0e6801ea8f5036fa66e1ab0a71a" type="text/javascript"></script> <script src="/assets/js/vanilla-back-to-top.min.js?f40d453793ff4f64e238e420181a1d17"></script> <script>
    addBackToTop();
  </script> <script type="module" src="/assets/js/search/ninja-keys.min.js?a3446f084dcaecc5f75aa1757d087dcf"></script> <ninja-keys hidebreadcrumbs noautoloadmdicons placeholder="Type to start searching"></ninja-keys> <script src="/assets/js/search-setup.js?6c304f7b1992d4b60f7a07956e52f04a"></script> <script src="/assets/js/search-data.js"></script> <script src="/assets/js/shortcut-key.js?6f508d74becd347268a7f822bca7309d"></script> </body> </html>